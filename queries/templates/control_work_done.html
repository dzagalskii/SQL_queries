{% extends 'base.html' %}

{% block content %}
    <section class="vh-100">
        <div class="container h-100" style="margin-top: -56px">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-10 col-lg-10 col-xl-9">
                    <div style="border-radius: 15px; background-color: #ececec">
                        <div class="card-body p-5 text-center" style="margin: 80px 0px 25px 0px">
                            <h3 class="mb-5">Контрольная работа №{{ control_work_id }}</h3>
                            <img src="{{ exec_control_work.control_work.control_scheme.image_path.url }}"
                                 class="img-fluid" alt="..."
                                 style="width: 100%; margin-bottom: 25px">
                            <div class="accordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                        <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseOne"
                                                aria-expanded="false" aria-controls="panelsStayOpen-collapseOne">
                                            Запрос №1
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                                         aria-labelledby="panelsStayOpen-headingOne">
                                        <div class="accordion-body" style="text-align: start;">
                                            <div style="margin-bottom: 15px;">
                                                {{ exec_control_work.query_1.query_request }}
                                            </div>
                                            <div class="form-floating">
                                                    <textarea class="form-control" placeholder="SQL-код запроса"
                                                              id="floatingTextarea2" style="height: 100px"
                                                              name="query_1_answer"
                                                              disabled>{{ exec_control_work.query_1_answer }}</textarea>
                                                <label for="floatingTextarea2">SQL-код запроса</label>
                                            </div>
                                            {% if exec_control_work.query_1_result == "OK" %}
                                                <div class="alert alert-success" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ правильный, молодец!</span>
                                                </div>
                                            {% else %}
                                                <div class="alert alert-danger" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ неправильный, ошибка: {{ exec_control_work.query_1_result }}</span>
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                        <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseTwo"
                                                aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                                            Запрос №2
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                                         aria-labelledby="panelsStayOpen-headingTwo">
                                        <div class="accordion-body" style="text-align: start;">
                                            <div style="margin-bottom: 15px;">
                                                {{ exec_control_work.query_2.query_request }}
                                            </div>
                                            <div class="form-floating">
                                                    <textarea class="form-control" placeholder="SQL-код запроса"
                                                              id="floatingTextarea2" style="height: 100px"
                                                              name="query_2_answer"
                                                              disabled>{{ exec_control_work.query_2_answer }}</textarea>
                                                <label for="floatingTextarea2">SQL-код запроса</label>
                                            </div>
                                            {% if exec_control_work.query_2_result == "OK" %}
                                                <div class="alert alert-success" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ правильный, молодец!</span>
                                                </div>
                                            {% else %}
                                                <div class="alert alert-danger" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ неправильный, ошибка: {{ exec_control_work.query_2_result }}</span>
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                                        <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseThree"
                                                aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                                            Запрос №3
                                        </button>
                                    </h2>
                                    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse"
                                         aria-labelledby="panelsStayOpen-headingThree">
                                        <div class="accordion-body" style="text-align: start;">
                                            <div style="margin-bottom: 15px;">
                                                {{ exec_control_work.query_3.query_request }}
                                            </div>
                                            <div class="form-floating">
                                                    <textarea class="form-control" placeholder="SQL-код запроса"
                                                              id="floatingTextarea2" style="height: 100px"
                                                              name="query_3_answer"
                                                              disabled>{{ exec_control_work.query_3_answer }}</textarea>
                                                <label for="floatingTextarea2">SQL-код запроса</label>
                                            </div>
                                            {% if exec_control_work.query_3_result == "OK" %}
                                                <div class="alert alert-success" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ правильный, молодец!</span>
                                                </div>
                                            {% else %}
                                                <div class="alert alert-danger" role="alert"
                                                     style="margin-top: 15px; border-radius: 10px;">
                                                    <span>Ответ неправильный, ошибка: {{ exec_control_work.query_3_result }}</span>
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
